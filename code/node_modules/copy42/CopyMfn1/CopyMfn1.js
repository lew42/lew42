var Mfn1 = require("mfn42/Mfn1");
var util = require("util42");
var is = util.is;

var CopyMfn1 = module.exports = Mfn1.extend({
	name: "CopyMfn1",
	main: function(ctx, value, base){
		// copy can be standalone or OO - I'll figure that out later
		// this will be a standalone version, and will ignore the ctx
		if (this.returnable(value))
			return value;
		
		if (is.arr(value))
			return this.arr(value);

		if (is.obj(value))
			return this.obj(value);
	},
	returnable: function(value){
		return !is.def(value) || is.val(value) || is.fn(value);
	},
	arr: function(arr){
		var copy = [];
		for (var i = 0; i < arr.length; i++){
			copy[i] = this.arrItem(arr[i]);
		}
		return copy;
	},
	arrItem: function(value){
		return value;
	},
	obj: function(obj){
		var copy = {};
		for (var i in obj){
			copy[i] = obj[i];
		}
		return copy;
	}
});