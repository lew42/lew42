var test = require("test42");
var view = require("view42");
var assert = test.assert;
var util = require("util42");
var is = util.is;

var Logger = require("./Logger1");
var Mod = require("mod42/v2");

test.app.logr.group("logger1.tests.js", function(){

test("basic", function(){
	var logger = Logger();
	assert(logger instanceof Logger);
	console.log(logger);
});

test("installing", function(){
	var mod = Mod({
		log: Logger()
	});

	assert(mod.log.logger.mod === mod);

	console.log(mod.log);
	console.log(mod.log.logger);

	mod.log("yo", "what", { up: "dawg" });
});

test("extending", function(){
	var Mod2 = Mod.extend({
		name: "Mod2",
		log: Logger()
	});

	assert(Mod2.prototype.log.logger.mod === Mod2.prototype);

	var mod = Mod2({
		name: "mod"
	});

	assert(mod.log.logger.mod === mod);
	assert(mod.log.logger !== Mod2.prototype.log.logger);

	mod.log("this is a log");
	mod.log("and another");
	mod.log("three logs for this mod");

	assert(Mod2.prototype.log.logger.logs.length === 0);

	var mod2 = Mod2({
		name: "mod2"
	});

	mod2.log("first");
	mod2.log("second");

	mod2.log.render();

	mod2.log("third?");
	// window.mod = mod2;
});

test("global logger", function(){


});

});