var Base = require("base42/v2");
var is = require("util42").is;

var Mfn = Base.extend({
	name: "Mfn3",
	initialize: function(){
		this.init_fn();
		this.init();
	},
	init_fn: function(){
		var self = this;

		this.fn = function(){
			return self.main.apply(self, [this].concat([].slice.call(arguments)));
		};

		this.fn.mfn = this;
	},
	clone: function(){
		var clone = Object.create(this);
		clone.instantiate.apply(clone, arguments);
		return clone;
	},
	assignTo: function(parent, name){
		parent[name] = this.fn;
	},
	main: function(ctx){}
});

module.exports = Mfn;