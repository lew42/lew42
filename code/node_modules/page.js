var Page = require("page42");
var View = require("view42");

var P = View.P, Img = View.Img, H1 = View.H1, H2 = View.H2, H3 = View.H3, H4 = View.H4, H5 = View.H5, H6 = View.H6, Button = View.Button, Section = View.Section, Article = View.Article, Main = View.Main, Nav = View.Nav, Header = View.Header, Footer = View.Footer, Menu = View.Menu, Pre = View.Pre, Code = View.Code, Ul = View.Ul, Ol = View.Ol, Li = View.Li, Em = View.Em, Strong = View.Strong, Span = View.Span;

var Paper = Section.extend({
	name: "Paper"
});

var Content = View.extend({
	name: "Content",
	addClass: "content-squeeze"
});

module.exports = Page.extend({
	name: "Page",
	Paper: Paper,
	Content: Content,
	main: function(){
		this.initial();
		this.banner();
		this.paper();
	},
	initial: function(){
		this.addClass("page flush " + this.route.part);
	},
	banner: function(){
		var page = this;
		View(function(){
			this.addClass("banner has-inner-bg global-squeeze ta-c white text-shadow");

			View(function(){
				this.addClass("inner-bg bg-fire")
			});

			View(function(){
				this.addClass("inner");
				View.h1(page.title);
			});
		});
	},
	paper: function(){
		var page = this;
		Paper(function(){
			View(function(){
				this.addClass("content-squeeze");
				page.image();
				page.intro();
				page.content();
			});
		});
	},
	image: function(){
		if (this.img){
			View(function(){
				this.addClass("post-image");
				Img(function(){
					this.attr("src", this.img);
				})
			});
		}
	},
	intro: function(){
		View.p(this.desc).addClass("intro");
	}
});