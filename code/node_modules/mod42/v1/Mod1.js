var Base = require("base42");
var Assign = require("assign42/v1");
var track = require("track42");

var Mod = module.exports = Base.extend({
	name: "Mod1",
	assign: Assign().fn
});

Mod.Sub = Mod.extend({
	name: "Sub1",
	set_parent: function(parent){
		this.parent = parent;
	},
	set_name: function(name){
		this.name = name;
	},
	assignedTo: function(parent, name){
		if (!this.hasOwnProperty('parent')){
			this.set_parent(parent);
			this.set_name(name);
		}
	}
});

Mod2 = Mod.extend({
	name: "Mod2",
	clone: function(){
		var clone = Object.create(this);
		track(clone);
		clone.proto = this;
		clone.instantiate.apply(clone, arguments);
		return clone;
	}
})