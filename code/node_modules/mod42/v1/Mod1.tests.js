var test = require("test42");
var view = require("view42");
var assert = test.assert;
var util = require("util42");
var is = util.is;

var Mod = require("./Mod1");

test("basic", function(){
	test.assertClass(Mod);
});

test("assign", function(){
	var Sub = Mod.extend({
		name: "Sub",
		assignedTo: function(parent, name){
			// console.log('assignedTo', parent, name);
			this.name = name;
			this.parent = parent;
		}
	});

	var parent = Mod({
		name: "parent",
		child: Sub()
	});

	assert(parent.child instanceof Sub);
	assert(parent.child.parent === parent);
	assert(parent.child.name === "child");
});

test("assignedTo", function(){
	var mod = Mod({
		sub: Mod.sub()
	});

	assert(mod.sub.parent === mod);
	assert(mod.sub instanceof Mod);
	assert(mod.sub.name === "sub");
});