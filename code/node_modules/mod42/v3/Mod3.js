var Mod2 = require("../v2");
var is = require("util42").is;
var Method = require("method42/v3");
var Logger = require("log42/v1");

var Assign = require("assign42");

var Mod3 = module.exports = Mod2.extend({
	name: "Mod3",
	assign: Assign({
		assignment: function(mod, name, value){
			if (is.fn(mod["set_"+name]))
				mod["set_"+name](value);
			else {
				if (is.fn(value)){
					value = Method(value); 
				}
				mod[name] = value;
			}
			
			if (value && is.fn(value.assignedTo)) value.assignedTo(mod, name);
		}
	}).fn,
	log: Logger()
});

console.log(Mod3.prototype.log);