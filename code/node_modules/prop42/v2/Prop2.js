var Mod = require("mod42/v4");

var Prop = module.exports = Mod.extend({
	name: "Prop2",
	adopt: true,
	setter: function(value, ctx){
		this.protect(ctx);
		this.set_value(value, ctx);
	},
	getter: function(ctx){
		this.protect(ctx);
		return this.value;
	},
	set_value: function(value, ctx){
		if (this.value !== value){
			this.value = value;
			this.changed.exec(value, ctx);
		}
	}
});